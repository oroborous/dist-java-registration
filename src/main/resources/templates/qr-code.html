<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>QR Code</title>
    <link type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css"
          rel="stylesheet"/>
</head>
<body>
<div id="qr">
    <p>Scan this code using the Google Authenticator app on your phone.
        <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2">Android</a> and
        <a href="https://itunes.apple.com/us/app/google-authenticator/id388497605">iPhone</a>
    </p>
    <br/>
    <!-- This is now disallowed -->
    <!-- https://stackoverflow.com/questions/52592892/workaround-for-request-getparameters-in-thymeleaf -->
    <!-- <img th:src="${param.qr}"/> -->
    <img id="qr-code" alt="Scan this QR code using Google Authenticator">

    <!-- workaround below -->
    <script th:inline="javascript">
        const qrUrl = [[${param.qr}]][0];
        document.getElementById("qr-code").src = qrUrl;
        console.log(qrUrl);
    </script>
</div>
</body>
</html>
